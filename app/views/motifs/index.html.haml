.row
  .col-12
    .table-actions
      .form-inline.motif-table-controls
        - if core_full_url
          %button.work_as_link.full_core_collection.btn.btn-sm.btn-outline-secondary{data: {href: core_full_url} }
            = switch_to_core_full
        %button.btn.btn-sm.btn-outline-secondary.reset.resetColumns.d-none.d-md-inline-block{type: 'button'} Reset
        %button.btn.btn-sm.btn-outline-secondary.select-columns-btn{type: 'button'} Select Columns
        = download_button
        %input.form-control.form-control-sm.csv-filename.d-none.d-md-inline-block{type: "text", value: csv_filename}
        .loading_table
          .loading_logo
        .caption= caption(collection: collection, family_id: family_id, full: is_full, show_full_core_caption: show_full_core_caption)
        #hidden_select_columns
.row
  .col-12
    %table#motifs.tablesorter.attach-column-selector{data: {table_group: 'hocomoco-motifs-2023-09-21-00-26', table_page: "hocomoco-motifs-#{collection}-index-2023-09-21-00-26"}}
      %thead
        %tr
          = motif_table_header :full_name, show_always: true, class: 'motif_name'
          = motif_table_header :logo, dont_sort: true, class: 'sequence_logo filter-false'
          = motif_table_header :gene_name_human, class: 'gene_name'
          = motif_table_header :gene_synonyms_human, hide_by_default: true
          = motif_table_header :gene_name_mouse, class: 'gene_name'
          = motif_table_header :gene_synonyms_mouse, hide_by_default: true
          = motif_table_header :model_length, data: {placeholder:'>= 20'}, hide_by_default: true
          = motif_table_header(:quality, class: 'filter-match') {|content| (content + help_icon(href: help_path(anchor: 'description_quality_score'), title: t((collection == 'H12CORE') ? 'tips.quality_html' : 'tips.quality_html_subcollection'), html: true) ).html_safe }
          = motif_table_header :motif_subtype, class: 'motif_subtype'
          = motif_table_header :consensus, dont_sort: true, hide_by_default: true, data: {placeholder: 'CA??TG'}
          = motif_table_header(:data_sources, class: 'source_dataset_type filter-select'){|content| (content + help_icon(title: t('tips.data_sources_html'), html: true, href: help_path(anchor: 'experimental_data_types'))).html_safe }
          = motif_table_header :num_words_in_alignment, hide_by_default: true, class: 'num_words_in_alignment'
          = motif_table_header :tfclass_superclass, hide_by_default: true
          = motif_table_header :tfclass_class, hide_by_default: true
          = motif_table_header :tfclass_family
          = motif_table_header :tfclass_subfamily, hide_by_default: true
          = motif_table_header :tfclass_id, hide_by_default: true
          = motif_table_header :hgnc_ids, dont_sort: true, hide_by_default: true
          = motif_table_header :mgi_ids, dont_sort: true, hide_by_default: true
          = motif_table_header :entrezgene_ids_human, dont_sort: true, hide_by_default: true
          = motif_table_header :entrezgene_ids_mouse, dont_sort: true, hide_by_default: true
          = motif_table_header :uniprot_id_human
          = motif_table_header :uniprot_id_mouse
          = motif_table_header :uniprot_ac_human, hide_by_default: true
          = motif_table_header :uniprot_ac_mouse, hide_by_default: true
          = motif_table_header(:greco_db_tf, hide_by_default: true){|content| (content + help_icon(title: t('tips.greco_db_tf_html'), html: true, href: 'https://www.ebi.ac.uk/QuickGO/targetset/dbTF')).html_safe }

      %tbody
        - models.each do |model|
          %tr
            %td= model.full_name(target: '_blank')
            %td= model.logo(target: '_blank', class: 'inline_sequence_logo')
            %td{data: {text: model.object.gene_name_human}} #{model.gene_name_human}
            %td= model.gene_synonyms_human.join(', ')
            %td{data: {text: model.object.gene_name_mouse}} #{model.gene_name_mouse}
            %td= model.gene_synonyms_mouse.join(', ')
            %td= model.model_length
            %td= model.quality
            %td= model.motif_subtype
            %td= model.consensus
            %td= model.data_sources.chars.join('+')
            %td= model.num_words_in_alignment
            %td{data: {text: model.tfclass_at_level_text(1) }}= model.tfclass_superclass
            %td{data: {text: model.tfclass_at_level_text(2) }}= model.tfclass_class
            %td{data: {text: model.tfclass_at_level_text(3) }}= model.tfclass_family
            %td{data: {text: model.tfclass_at_level_text(4) }}= model.tfclass_subfamily
            %td{data: {text: model.object.tfclass_id }}= model.tfclass_id
            %td= model.hgnc_ids
            %td= model.mgi_ids
            %td{data: {text: model.object.entrezgene_ids_human.join(', ')}}= model.entrezgene_ids_human
            %td{data: {text: model.object.entrezgene_ids_mouse.join(', ')}}= model.entrezgene_ids_mouse
            %td= model.uniprot_id_human
            %td= model.uniprot_id_mouse
            %td{data: {text: model.object.uniprot_ac_human}}= model.uniprot_ac_human
            %td{data: {text: model.object.uniprot_ac_mouse}}= model.uniprot_ac_mouse
            %td= model.greco_db_tf

- content_for(:title) do
  Motifs - HOmo sapiens COmprehensive MOdel COllection
- content_for(:meta_description) do
  - if family_id
    = "Transcription Factor Binding Sites motifs for #{tfclass_name_by_id.dig(family_id, :name)} TF #{tfclass_name_by_id.dig(family_id, :level_name)&.downcase} (TFClass:{#{family_id}}).".html_safe
  - else
    HOCOMOCO Database of human and mouse Transcription Factor Binding Sites motifs.
